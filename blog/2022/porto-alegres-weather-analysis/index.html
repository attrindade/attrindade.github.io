<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd"> <html><body> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/0*LwvZpVH_SXdYQRSF.png"><figcaption>Photo by <a href="https://unsplash.com/es/@roomajus?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="external nofollow noopener" target="_blank">Juliana Romão</a> on <a href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="external nofollow noopener" target="_blank">Unsplash</a></figcaption></figure> <p>As many citizens of Brazil’s southern states, I perceived higher temperatures during the last summers. In the city of Porto Alegre too, where I live, and I decided to explore some weather data of here, while developing my data analysis skills, to answer if it was only a personal perception or if objective data supported my hypothesis that temperatures are rising.</p> <p>This was a simple project intended only to consolidate my knowledge of pandas, matplotlib and seaborn as I’m currently deepening my comprehension of them. I’m not offering a deep and solid analysis of Porto Alegre’s weather changes along the years. So it may have some inconsistencies or even some of the strategies I’ve used in the EDA may not be the best. My only plan is to learn and to see if my sensory perception of the city’s temperatures seems to be in line with the data or not. Which is already an awesome premise!</p> <h3>My plan</h3> <p>With all that in mind, I decided to collect data of the last two decades from the meteorology institute INMET and do some exploratory data analysis with it to look for insights.</p> <h3>Project overview</h3> <p>This project have the main goal of improving my EDA (Exploratory Data Analysis) skills so it was divided in the following parts: data extraction, data preparation (cleaning), creation of a summarized table to facilitate the analysis and EDA (that have multiple specific parts like summer, winter, precipitations). The entire code for this project can be found <a href="https://github.com/attrindade/poa-weather-analysis" rel="external nofollow noopener" target="_blank">in this repository</a>.</p> <h3>Getting the data</h3> <p>I got the .csv file with historical data of Porto Alegre from the INMET (Instituto Nacional de Meteorologia) website. It’s very simple to get the data in the way want (specific variables, date range, etc). You can go to <a href="https://bdmep.inmet.gov.br/" rel="external nofollow noopener" target="_blank">https://bdmep.inmet.gov.br/</a> (the INMET database website) and ask for it, it gives you many options to customize your data. The data (.csv) I’ve used in this project you can find on the github <a href="https://github.com/attrindade/poa-weather-analysis" rel="external nofollow noopener" target="_blank">repository</a> of this project named as “DATA_POA_2001–01–01_2022–03–11.csv”.</p> <h3>Data Extraction</h3> <p>I read the data received from INMET and generated this dataframe with 7740 observations and 8 cols.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/972/0*Llz2hQZa_7-4Mywa.png"><figcaption>The first 3 rows (of 7740) of the weather data</figcaption></figure> <h3>Data Preparation &amp; Cleaning phases</h3> <p>In this phase I’ve made many steps to improve the dataframe’s readability and functionality, these steps were:</p> <ul> <li>Drop the useless columns</li> <li>Simplify and translate columns names</li> <li>Convert string data types to datetime (date) and to float (others)</li> <li>Decrease the amount of NaN</li> <li>Dropping non-useful rows</li> <li>Creating ‘year’, ‘month’ and ‘day’ columns</li> <li>Set date as index</li> </ul> <h4>Decreasing the amount of NaN</h4> <p>In an attempt to decrease the amount of NaN and trying to lose the least amount of rows, I’ve tried to make the average from min and max temperatures and replace the NaN of the avg_temp with it, in the rows where I have min &amp; max temp but not avg.</p> <h4>Dropping non-useful rows</h4> <p>As I don’t plan right now to apply ML models on this dataset the best choice for the rows that contain too many NaNs is to drop it completely</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/0*OiQGwvQc2zKbAVma.png"><figcaption>After cleaning &amp; preparation: 7483 observations and 9 cols.</figcaption></figure> <h3>Creating a summarized table</h3> <p>In this second part of data cleaning/preparation I summarized all the data from our dataframe and created another dataframe with all these summarized info. I firstly divided summer, winters and years in different tables. After that I’ve put it all together in a summarized table called ‘seasons’.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/677/0*_CXdO-ICiHIcDzY1.png"><figcaption>“seasons” dataframe, the result of this summarizing phase. It continues with the winter columns to the right.</figcaption></figure> <p><strong><em>Columns related to summer:</em></strong><br>‘SUM_temp’ , ‘SUM_max’ , ‘SUM_max_avg’ , ‘SUM_min’ , ‘SUM_min_avg’ , ’SUM_hum’ , ‘SUM_hum_min’</p> <p><strong><em>Columns related to the winter:</em></strong><br>‘WIN_temp’, ‘WIN_max’, ‘WIN_max_avg’,’WIN_min’, ‘WIN_min_avg’, ‘WIN_hum’, ‘WIN_hum_min’</p> <h4>Labels explanation:</h4> <ul> <li>SUM : Summer</li> <li>WIN : Winter</li> <li>_temp → The average for that season’s temperatures</li> <li>_max → The highest temperature of that season</li> <li>_min → The lowest temperature of that season</li> <li>_max_avg → The average for that season’s daily maximum temperatures</li> <li>_min_avg → The average for that season’s daily minimum temperatures</li> <li>_hum → The average of daily humidity of that season</li> <li>_hum_min → The lowest humidity of that season</li> </ul> <h3>EDA (Exploratory Data Analysis)</h3> <p>In this phase I’ve tri to answer a few questions about many topics related to this sensorial feeling that Porto Alegre is getting hotter.</p> <h4>What about the summer?</h4> <p>Questions to answer:</p> <ul> <li>Did the average temperature increased in these last 7 years?</li> <li>Did the max temperature increased?</li> </ul> <p>To answer these questions my strategy was to plot the data from the summer’s data in the summarized dataframe.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/725/0*A1sKHsQ2Tzebb9DK.png"></figure> <p>From the graph above it really seems like the average temperatures and max temperatures really increased a little. There are many interesting insights that can be made from this plot, but the general idea it gives to me is that all the variables are getting higher on average.</p> <p>As an attempt to visualize more this change of the averages I’ve tried to plot a new graph with a line in the center representing the mean of all the year averages from these two decades (which is 24.76C°). After this line, I plotted on this same graph bars that represents how far each year’s average is from that mean, they represent the diversion of the the values in relation to that mean/line.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/864/0*slYFHOnZDq_0F4Jk.png"></figure> <p>As we can see in the plot above, the year’s summer temperature average is increasing. The first decade of the century had on average lower temperatures during the summer and the second decade the opposite.</p> <p>This analysis reinforce the idea that Porto Alegre’s summers are getting slightly hotter. My perception that our summers are being hotter seems to be in line with data.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/978/0*4dTnI56BTzGSGBkw.png"><figcaption>Summer metrics for every 7 years</figcaption></figure> <p>With the plots that I showed before and with this table that shows the mean of many variables of the city summers I can say that my perceptions are at least coherent with the data: Porto Alegre is having higher temperatures and higher averages during these last 7 years, but it’s just a small difference.</p> <p>We can’t confirm with certainty that my perception is related to any real changes in the city’s climate, but it certainly goes in the same direction that some studies already found (I will link an interesting one below), the climate change is starting to be noticeable by people who live in the city.</p> <p><a href="https://www.ufrgs.br/sextante/mudanca-climatica-no-rio-grande-do-sul/" rel="external nofollow noopener" target="_blank"><em>Climate change in Rio Grande do Sul, by Bibiana Dávila at UFRGS</em></a></p> <h4>What about the winter</h4> <p>Questions to answer:</p> <ul> <li>Did the mean temperature increased?</li> <li>Did the minimum temperature average increased?</li> </ul> <p>To answer these questions my strategy was to plot the data from the winter’s data in the summarized dataframe.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/725/0*aDBbdzmzZ7Y3zouD.png"></figure> <figure><img alt="" src="https://cdn-images-1.medium.com/max/864/1*Vmj2cef3IeMuom2OGSbdSA.png"><figcaption>The averages tends to be higher on the last years, but it’s also interesting to note that there are more negative differences on the left than on the right side of the figure. The positive diffs on the beginning of the century indicate that there are other climatic influences. As this is a brief analysis I will focus on the big picture.</figcaption></figure> <figure><img alt="" src="https://cdn-images-1.medium.com/max/977/0*uix2sdedH_QLEGTL.png"><figcaption>Winter metrics for every 7 years</figcaption></figure> <p>With the winter we can see a similar pattern to the one that our summer is following: average temperatures, maximum and minimum variables are all (somewhat) increasing. All the variables had some increase, but the maximum averages and the two minimum variables (average and lowest temperature) had highest increase.</p> <p>The average temperatures seems to be getting slightly higher and all the other metrics too. Answering our questions: Yes, the mean temperature average seems to have suffered a small increase and the minimum temperatures (and averages) suffered too.</p> <p>My feeling is that the residents of POA can genuinely feel a difference in their sensations of the temperatures and this phenomenon follows the data analysed here.</p> <h4>Humidity</h4> <p>Questions to answer:</p> <ul> <li>Did the humidity averages suffered any changes along these years?</li> <li>Does it follows the changes of other variables?</li> </ul> <figure><img alt="" src="https://cdn-images-1.medium.com/max/335/0*lucYpuEgkJiGdP7w.png"></figure> <p>The average humidity and minimum humidity maintained themselves in a similar averages along these 20 years although they seem to be increasing too. I’m no specialist, so I can’t affirm anything, even if there’s a small increase on it. It can be only a common difference or something else, only a little bit of more research from my part can understand it further.</p> <p>Answering the questions: they seems to be increasing although it’s a subtle difference. As all the other variables seems to be increasing too I can say that this change is following the changes of other metrics</p> <h4>Precipitation</h4> <p>Questions to answer:</p> <ul><li>Did the precipitations sums had been trough some change along the years?</li></ul> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/0*nEHYCiT_MDfLTmuu.png"><figcaption><strong>Left</strong>: comparison by decade | <strong>Right</strong>: comparison by every 7 years.</figcaption></figure> <p>In this last table we are able to see that we having considerable more rain in this last decade of 2011 to 2020. Being specific: the difference between 2001–2010 sum and the 2011–2020 sum is 3172.8mm more precipitation for the latter.</p> <p>This tendency towards a higher amount of precipitation is something expected in the climate change context of the state we are in. Rio Grande do Sul suffers from the climate changes that are being made trough the amazon forest deforestation, in more than one way it intensifies the precipitations on our region.</p> <h3>What’s next?</h3> <p>The entire code for this project can be found <a href="https://github.com/attrindade/poa-weather-analysis" rel="external nofollow noopener" target="_blank">in this repository</a>. If you want to contact me or there’s any question about the analysis, feel free to reach me on <a href="https://www.linkedin.com/in/attrindade/" rel="external nofollow noopener" target="_blank">https://www.linkedin.com/in/attrindade/</a>.</p> <p>After this EDA I’m planning to explore other parts of this data (like thermal amplitude) and if I can get more data (other years) I will think about doing some forecasting.</p> <p>This will only happen in the future, so see you next time!</p> <p><img src="https://medium.com/_/stat?event=post.clientViewed&amp;referrerSource=full_rss&amp;postId=84823e9dc1d8" width="1" height="1" alt=""></p> </body></html>